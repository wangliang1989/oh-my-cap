# 简介

裁剪-粘贴法（Cut And Paste，简称 CAP）
是一种将事件波形切割成多个波形片段来反演震源机制解的方法。
该方法主要由 [朱露培](http://www.eas.slu.edu/People/LZhu/home.html) 发展和实现。
一般而言，CAP 适用于矩震级 3 级以上，7 级以下，
在 500 公里内至少有 3 个宽频带波形数据（有仪器响应文件）的地震事件。

朱露培发布的 CAP 程序有三个不同的版本：CAP、gCAP 和 gCAP3D。

- CAP 是早期实现的代码，可反演双力偶解。该版本仅通过私下交流传播，并未在网络上开源；
- gCAP 在 CAP 的基础上增加了反演完整矩张量解的功能。gCAP 于 2013 年在网络上开源。
- gCAP3D 在 gCAP 的基础上可使用三维模型的格林函数进行反演。gCAP3D 于 2016 年在网络上开源。

另外，很多学者发布了自己的 CAP 版本，各有特色。

本项目基于 gCAP 建立。
之所以命名为 Oh My CAP，是模仿 Oh My Zsh 的命名方式，意思为 gCAP 的配置脚本。
本项目提供使用 gCAP 的教程和调用脚本。
下面不完全罗列本项目的优势：

1. 对 gCAP 的核心代码仅微量修改。用 Oh My CAP，本质上就是用朱露培的官方原版 gCAP；
2. 提供安装程序源文件、自动安装脚本和手把手的安装指南；
3. 提供手把手的示例演示，和每一个步骤的详细讲解；
4. 提供调用 gCAP 的现成 Perl 脚本，易用性上，远超官方版本；
5. 可以依托 Github 的版本对照功能清楚查看对原 gCAP 代码做了哪些具体修改；

## Oh My CAP 2.0 的更新

本项目的第一个版本 v1.0 发布在 2016 年 10 月 14 日。
目前，Oh My CAP 最新是 2.0 版本。
这是 2018 年 4 月的 v1.2 版之后近五年来的第一次版本更新。
**Oh My CAP 不再依赖 gmt4 和 pssac 了，而只使用 gmt6 进行做图**。
因为改变了软件依赖，版本号直接前进到 2.0。
这一次更新还纠正了 fk 的部分错误。
我相信，这一次的版本更新会为本项目重注一次生命力。

## 授权协议与论文引用

本项目中所使用的 FK 和 gCAP 的源码修改自朱露培的原始代码，按照 GPL 协议授权。
你可以免费获取、使用、修改和再发布代码。
如果你修改了 FK 和 gCAP 的，也必须按照 GPL 协议公开。
本项目中的其余源码以及网页内容采用更加宽松的 Apache 协议，
即在尊重本项目的署名权的前提下，可以选择不公开自己的修改。

如果本项目帮助了你，你应该引用我的这篇论文：

```text
王亮, 薛霆虓, 季海磊. 2016. 集集强余震震源机制解分析[J]. 地球物理学进展. 31(5): 1998-2004
Wang L, Xue T X, Ji H L. 2016. Focal mechanisms of Taiwan ChiChi earthquake aftershocks[J]. Progress in Geophysics. 31(5): 1998-2004
```

我这篇论文不是英文的，也没有发表在顶级期刊。
三位作者都不是大牛。
**因为这些，你就用我的程序，而不引用我的论文？**

**做人不好不讲良心的。**

**如果你公开引用了我的论文，无论是否是期刊发表，都请告诉我。这是对我的莫大鼓励。**

你可以在[文献介绍](/cite)中了解文献阅读和文献引用的更多信息。

## 学习指南

读者应该具备的最基本的理论知识准备有:

1. 弹性回跳理论
2. 双力偶和沙滩球。
3. 若要做矩张量解，还需要知道矩张量。

如果你完全不具备上述知识储备，你应该暂停本文档的学习，先补一补课。

通常，在学习地震学程序之前，应该先充分阅读文章，理解方法。
但是，阅读本文档基本可以代替阅读文献。
本文档会穿插应该在文献中获得的知识。
所以读者只需要在具备前述的弹性回跳等基本知识后，
按照顺序照本文档介绍的做就好了。

可以通过访问网站，在线阅读本文档。
也可以离线阅读。
**文档在项目的根路径下的docs目录中。**

## 文件树

本项目的整体文件树如下：

```text
oh-my-cap
├── docs             文档
├── example          例子
├── src              源文件
├── Glib             格林函数库
├── LICENSE          授权协议
└── README.md        自述文件
```
